<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>


    <!-- 

        1. 完成地图和食物的显示
            1.1 创建地图，其实就是个div，设置宽高背景色，以及相对定位（方便食物参照它定位）

            1.2 写构造函数（可能后面要创建多个食物对象）

            1.3 实例化一个食物对象，但是现在只是有一堆数据，界面看不到

            1.4 创建div，把食物的数据做成div的数据，再添加到地图里就能显示


        2. 完成食物随机显示
            2.1 先计算出水平方向最多有多少个格子
            2.2 计算出垂直方向最多有多少个格子
            2.3 生成水平方向随机下标
            2.4 生成垂直方向随机下标
            2.5 用随机的x下标乘以宽度给left 再用随机的Y下标乘以高度给top


        3. 把食物显示出来的代码封装成原型对象的一个方法
                记得把里面的food改成this（谁调用就显示谁）

            好处：以后创建出来的多个食物都有显示出来的方法


        4. 完成蛇的显示
            4.1 创建蛇的构造函数，传入width和height，记得给默认值
            4.2 蛇还有一个重要的属性：方向，默认给一个right
            4.3 蛇其实是由多节身体组成，每节身体有自己的坐标和颜色，所以每节身体是一个对象，而每节加在一起就是一条蛇，所以应该是数组
                所以有一个属性叫body，它是一个数组（保存了每节身体），数组中每个元素是一个对象

            4.4 给蛇原型加一个show方法，里面遍历身体，每节身体都是一个div，给宽高颜色和坐标就好了

        
        5. 把食物和蛇分割成模块（独立的js文件）
            5.1 把食物的构造函数和原型方法放到食物js文件，记得要用自调用函数包起来和把构造函数暴露给window
            5.2 把蛇的构造函数和原型方法放到蛇的js文件，记得要用自调用函数包起来和把构造函数暴露给window
            5.3 在当前文件导入就行了
            5.4 因为现在都不在一个文件了，而食物和蛇的show方法里面要用map，所以最好让map传进来（写形参，调用时传实参）

        
        6. 准备游戏管家对象
            6.1 新建game.js文件
            6.2 准备Game构造函数，构造函数里有2个属性，snake一个food，并且实例化他们
            6.3 准备一个开始游戏的方法，需要传入地图，并且在方法里调用蛇和食物的显示方法，传入地图


        7. 让蛇动一下
            7.1 给蛇加一个移动的方法
                7.1.1 身体的移动就是它前一个身体的坐标（从后往前遍历，不要包括蛇头）
                7.1.2 蛇头要根据方向判断，往右就x++ 往左就x-- 往上就y-- 往下就y++
            
            7.2 在游戏管家的游戏开始方法里，调用蛇移动

            7.3 你调用蛇移动，只是改了数据，但是真正的是div，div没有改，重新调用show方法，让蛇根据最新位置创建div

            7.4 在show方法里创建新div之前，要把原来的div删掉（给div加标记，找到这些标记的div，再遍历删除）


        --------------------- 以下是本文件内容 --------------------------
        8. 让蛇自己动
            8.1 用计时器包着 蛇移动的方法 以及蛇显示的方法
            8.2 注意：计时器里的this是window，所以你要先把外面的this保存，然后在计时器里用保存的那个
     -->

    <style>
        #map {
            width: 800px;
            height: 600px;
            background-color: #ccc;

            /* 方便让食物参照它定位 */
            position: relative;
        }
    </style>
</head>

<body>
    <div id="map"></div>


    <script src="./food.js"></script>
    <script src="./snake.js"></script>
    <script src="./game.js"></script>

    <script>

        // 找到map
        var map = document.getElementById('map');

        // 我想根据面向对象的思想：直接找一个游戏管家对象，调用它开始游戏的方法，它就自动帮我们创建食物、蛇并且开始游戏
        var game = new Game();
        game.startGame(map);


    </script>
</body>

</html>